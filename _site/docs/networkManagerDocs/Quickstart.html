<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Quickstart Guide - Pilot</title> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs.css"> <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.5.0 --> <title>Quickstart Guide | Pilot</title> <meta name="generator" content="Jekyll v3.8.5" /> <meta property="og:title" content="Quickstart Guide" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="PiloT Raspberry Pi Cellular HAT" /> <meta property="og:description" content="PiloT Raspberry Pi Cellular HAT" /> <link rel="canonical" href="http://localhost:4000/docs/networkManagerDocs/Quickstart.html" /> <meta property="og:url" content="http://localhost:4000/docs/networkManagerDocs/Quickstart.html" /> <meta property="og:site_name" content="Pilot" /> <script type="application/ld+json"> {"@type":"WebPage","url":"http://localhost:4000/docs/networkManagerDocs/Quickstart.html","headline":"Quickstart Guide","description":"PiloT Raspberry Pi Cellular HAT","@context":"http://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"> <title>Link</title> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg> <div class="page-wrap"> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000" class="site-title lh-tight"> Pilot </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button> </div> <div class="navigation main-nav js-main-nav"> <nav role="navigation" aria-label="Main navigation"> <ul class="navigation-list"><li class="navigation-list-item active"><a href="http://localhost:4000/docs/networkManagerDocs/capture_HL8548networkManager.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="http://localhost:4000/docs/networkManagerDocs/exampleNetworkManagerConfigFile.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="http://localhost:4000/docs/networkManagerDocs/example_nmcli_configRead_O2_HL7692.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="http://localhost:4000/docs/uPilot_m.2/RPi4_USB_EM7455.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="http://localhost:4000/docs/uPilot_m.2/" class="navigation-list-link"></a></li><li class="navigation-list-item"><a href="http://localhost:4000/" class="navigation-list-link">Pilot</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/docs/networkManagerDocs/instructions_modemConfiguration.html" class="navigation-list-link">Pilot Configuration</a><ul class="navigation-list-child-list"><li class="navigation-list-item "> <a href="http://localhost:4000/docs/networkManagerDocs/instructions_EM7455.html" class="navigation-list-link">EM7455</a> </li><li class="navigation-list-item "> <a href="http://localhost:4000/docs/networkManagerDocs/instructions_HL7692.html" class="navigation-list-link">HL7692</a> </li><li class="navigation-list-item "> <a href="http://localhost:4000/docs/networkManagerDocs/instructions_HL8548.html" class="navigation-list-link">HL8548</a> </li></ul></li><li class="navigation-list-item "><a href="http://localhost:4000/scripts_python_checkIp/README.html" class="navigation-list-link">Automation - IP link check</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/networkManagerDocs/git.html" class="navigation-list-link">Pilot GIT repo</a></li></ul></li><li class="navigation-list-item active"><a href="http://localhost:4000/docs/networkManagerDocs/networkManagerIndex.html" class="navigation-list-link">Network Manager</a><ul class="navigation-list-child-list "><li class="navigation-list-item active"><a href="http://localhost:4000/docs/networkManagerDocs/Quickstart.html" class="navigation-list-link active">Quickstart Guide</a><ul class="navigation-list-child-list"></ul></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/networkManagerDocs/simUse_info.html" class="navigation-list-link">SIM Practical Testing</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/networkManagerDocs/instructions_networkManager.html" class="navigation-list-link">Further notes 1</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/networkManagerDocs/instructions_NetworkManagerMore.html" class="navigation-list-link">Further notes 2</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/speedtests/README.html" class="navigation-list-link">Speed test results</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/networkManagerDocs/test_configurationRecords.html" class="navigation-list-link">Pilot Module Test Records</a></li><li class="navigation-list-item "><a href="http://localhost:4000/docs/networkManagerDocs/exampleNmcliConnectShow.html" class="navigation-list-link">Shell example - read connection settings</a></li></ul></li></ul> </nav> </div> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p> </footer> </div> <div class="main-content-wrap js-main-content" tabindex="0"> <div class="main-content"> <div class="page-header js-page-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search Pilot" aria-label="Search Pilot" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg> </div> <div class="js-search-results search-results-wrap"></div> </div> </div> <div class="page"> <nav class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/docs/networkManagerDocs/networkManagerIndex.html">Network Manager</a></li> <li class="breadcrumb-nav-list-item"><span>Quickstart Guide</span></li> </ol> </nav> <div id="main-content" class="page-content" role="main"> <h2 class="no_toc" id="quickstart-guide"> <a href="#quickstart-guide" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Quickstart Guide </h2> <ol id="markdown-toc"> <li><a href="#install-pilot-scripts" id="markdown-toc-install-pilot-scripts">Install PiloT scripts</a></li> <li><a href="#power-up-the-pilot-board" id="markdown-toc-power-up-the-pilot-board">Power up the PiloT board</a></li> <li><a href="#pilot-modem-check-and-set-configuration" id="markdown-toc-pilot-modem-check-and-set-configuration">PiloT modem check and set configuration</a></li> <li><a href="#install-required-rpi-apps" id="markdown-toc-install-required-rpi-apps">Install required RPi apps</a></li> <li><a href="#uninstall-rpi-apps-not-required" id="markdown-toc-uninstall-rpi-apps-not-required">Uninstall RPi apps not required</a></li> <li><a href="#configure-the-cellular-network-connection" id="markdown-toc-configure-the-cellular-network-connection">Configure the cellular network connection</a></li> <li><a href="#notes" id="markdown-toc-notes">Notes</a></li> </ol> <p>This guide installs a universal IP cellular connectivity solution onto the Raspbian OS targeting the PiloT HAT board and Raspberry PI (RPi) hardware.</p> <p>NetWorkManager, NetworkManager GUI and ModemManager are installed onto a Raspbian OS</p> <p>NetworkManagers GUI (NetworkManager Applet) is used to configure cellular IP connectivity and to stop, start and monitor IP connections</p> <p>This QuickStart guide requires</p> <ul> <li>Raspberry Pi</li> <li>Standard Raspian desktop installation ***</li> <li>Pilot board and USB cable</li> </ul> <p><br /></p> <h2 id="install-pilot-scripts"> <a href="#install-pilot-scripts" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Install PiloT scripts </h2> <ol> <li>Clone the project into your RPi (maybe use a shell terminal). This creates a local copy of the project which includes this documentation and any project related scripts <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone http://github.com/johnofleek/PiloT
</code></pre></div> </div> </li> <li>Install the minicom command line terminal emulation application <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install minicom
</code></pre></div> </div> </li> </ol> <h2 id="power-up-the-pilot-board"> <a href="#power-up-the-pilot-board" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Power up the PiloT board </h2> <ol> <li>From a shell terminal - power on the PiloT using a convenient script (doesn’t apply to uPiloT) <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./pilotOn.sh 
</code></pre></div> </div> <p><em>If this script fails to power up the PiloT</em><br /> Check that the wiringPi version installed on on your RPi Raspian is compatible with the RPi hardware in use. For example at the time of writing the RPi4 HW needs an updated wiringPi install</p> </li> <li>For information on your PiloT’s LED behaviour click <a href="/docs/networkManagerDocs/instructions_modemConfiguration.html">LED behaviour</a> and follow the links to the module fitted to your PiloT</li> </ol> <p><br /></p> <h2 id="pilot-modem-check-and-set-configuration"> <a href="#pilot-modem-check-and-set-configuration" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> PiloT modem check and set configuration </h2> <ol> <li>To enable AT commands to be sent to the PiloT modem - run minicom <a href="/docs/networkManagerDocs/test_configurationRecords.html">(check the actual serial port to use)</a> - note that if NetworkManager ModemManager is running then stop them before trying to send commands to the modem <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo minicom -D /dev/ttyACM0
</code></pre></div> </div> </li> <li>Read the PiloT modem information Type the following AT command into minicom - the PiloT modem will report information about itself such as it’s Firmware version. On some modems the serial port times out when there is no activity - the first carriage return will wake the modem up <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;CR&gt;
ATi9&lt;CR&gt;
</code></pre></div> </div> </li> <li>Check the PiloT modem information<br /> A number of PiloT + RPi + Raspbian combinations have been tested, they are listed <a href="/docs/networkManagerDocs/test_configurationRecords.html">here</a> <br /> Here are some things to check if a problem occurs at some point later in the QuickStart process <ul> <li>Does the modem appear in the list but the reported modem firmware is older than in the list? It’s possible to update the modem firmware by connecting the PiloT USB port to a Windows PC and use a one click .exe installer from <a href="https://source.sierrawireless.com/">here</a> to install updated firmware into the PiloT modem</li> <li>Check the reported PiloT modem type is listed?</li> <li>Check if your RPi variant is listed?</li> <li>Check if your Raspian version is listed</li> <li>Check the NetworkManager version?</li> </ul> </li> <li>Configure the PiloT modem as required (based on firmware identified above) <ul> <li>Carry out the modem specific configuration <a href="/docs/networkManagerDocs/instructions_modemConfiguration.html">instructions</a><br /> Please pay particular attention to the usb composition setting - if in doubt check the AT command manual for the particular modem that is being used - if it’s supported by the modem a composition with an MBIM setting is recommended</li> </ul> </li> <li>Power down the PiloT HAT by running the following script <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./pilotOff.sh
</code></pre></div> </div> </li> <li>Reboot the RPi</li> </ol> <p><br /></p> <h2 id="install-required-rpi-apps"> <a href="#install-required-rpi-apps" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Install required RPi apps </h2> <ol> <li>If necessary - power down the PiloT HAT <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./pilotOff.sh
</code></pre></div> </div> </li> <li>Install network-manager <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install network-manager
</code></pre></div> </div> </li> <li>Install the GUI network-manager-gnome <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install network-manager-gnome
</code></pre></div> </div> </li> </ol> <p><br /></p> <h2 id="uninstall-rpi-apps-not-required"> <a href="#uninstall-rpi-apps-not-required" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Uninstall RPi apps not required </h2> <ol> <li>Remove openresolv and dhcpcd as they interfere with the operation of network manager <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt purge openresolv dhcpcd5
</code></pre></div> </div> <p>It is also possible to uninstall the dhcpcd GUI as it’s no longer functional</p> </li> <li>Reboot the RPi</li> </ol> <p><br /></p> <h2 id="configure-the-cellular-network-connection"> <a href="#configure-the-cellular-network-connection" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Configure the cellular network connection </h2> <ol> <li>From a shell terminal power on the PiloT by executing the script <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./pilotOn.sh
</code></pre></div> </div> </li> <li>Wait for Mobile Broadband to appear in the NetworkManager GUI this should be visible on the Rpi Panel (probably top right)</li> <li>Use the NetworkManager GUI to configure your wwan0 settings such as APN / username / password etc - maybe use some variant of these <a href="/docs/networkManagerDocs/simUse_info.html">examples</a></li> <li>If everything is installed and configured correctly NetworkManager should connect the modem when the mobile broadband profile you created is clicked in the NetworkManager GUI</li> <li>To power down the PiloT run the following script <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./pilotOff.sh
</code></pre></div> </div> </li> </ol> <h2 id="notes"> <a href="#notes" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Notes </h2> <ul> <li> <p>The instructions assume that the git project has been cloned into the users home directory. To access or run the power control scripts</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd ~/Pilot/scripts_pilotControl
</code></pre></div> </div> </li> <li> <p>The paths used in this guide - for example <strong>./pilotOn.sh</strong> assumes that the user has changed directory to the directory which contains the pilotOn.sh script - the shell command <strong>[ls]</strong> will list what is available in a directory</p> </li> <li> <p>To start a Raspbian shell terminal - hold down keys [CTRL] [ALT] T or use the RPi Terminal icon</p> </li> <li> <p>Desktop installation was selected so that NetworkManager GUI can be used. NetworkManager GUI provides a simple way to control and observe NetManager behaviour, however, the underlying technology will work with a non-GUI system</p> </li> <li> <p>The NetworkManager GUI is called the <em>network manager applet</em> in it’s <em>about</em> box</p> </li> </ul> <hr> <footer role="contentinfo"> <p class="text-small text-grey-dk-000 mb-0">Update this footer in _config.yml</p> </footer> </div> </div> </div> </div> </body> </html>
